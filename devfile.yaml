schemaVersion: 2.2.0
metadata:
  name: java-ai-workspace

components:
  - name: tools
    container:
      image: registry.access.redhat.com/ubi9/openjdk-17:latest
      memoryLimit: 3Gi
      mountSources: true
      env:
        - name: MAVEN_OPTS
          value: "-Xmx2G"

  # Plugins/Extens√µes
  - name: java
    chePlugin:
      id: redhat/java/latest

  - name: java-debug
    chePlugin:
      id: vscjava/vscode-java-debug/latest

  - name: java-test
    chePlugin:
      id: vscjava/vscode-java-test/latest

  - name: java-dependency
    chePlugin:
      id: vscjava/vscode-java-dependency/latest

  - name: maven
    chePlugin:
      id: vscjava/vscode-maven/latest

  # IA Plugins
  - name: intellicode
    chePlugin:
      id: VisualStudioExptTeam/vscodeintellicode/latest

  - name: codium
    chePlugin:
      id: Codeium/codeium/latest

  - name: tabnine
    chePlugin:
      id: TabNine/tabnine-vscode/latest

  - name: awsq
    chePlugin:
      id: AWS/amazon-q-vscode/latest

  # Produtividade
  - name: indent-rainbow
    chePlugin:
      id: oderwat/indent-rainbow/latest

  - name: git-graph
    chePlugin:
      id: mhutchie/git-graph/latest

  - name: code-spell-checker
    chePlugin:
      id: streetsidesoftware/code-spell-checker/latest

  - name: trailing-spaces
    chePlugin:
      id: shardulm94/trailing-spaces/latest

  - name: code-runner
    chePlugin:
      id: formulahendry/code-runner/latest

commands:
  - id: build
    exec:
      component: tools
      commandLine: "mvn clean install"
      workingDir: /projects
      group:
        kind: build
        isDefault: true

  - id: run
    exec:
      component: tools
      commandLine: "mvn spring-boot:run"
      workingDir: /projects
      group:
        kind: run
        isDefault: true
